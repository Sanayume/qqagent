import{n as e,r as t,t as n}from"./x-D5kKGpT7.js";import{t as ee}from"./circle-alert-C_gjvpF9.js";import{A as r,C as i,D as te,F as a,M as o,N as s,P as c,T as ne,_ as l,b as u,g as d,i as f,k as p,n as m,s as h,u as g,v as _,w as v,x as y,y as b}from"./index-DTcooqcV.js";var re=h(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),ie=h(`toggle-right`,[[`circle`,{cx:`15`,cy:`12`,r:`3`,key:`1afu0r`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`7`,key:`g7kal2`}]]),ae=h(`toggle-left`,[[`circle`,{cx:`9`,cy:`12`,r:`3`,key:`u3jwor`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`7`,key:`g7kal2`}]]),oe={class:`h-full flex flex-col gap-6`},se={class:`flex items-center justify-between`},x={class:`flex items-center gap-2`},S={class:`flex bg-slate-100 rounded-lg p-1`},C=[`onClick`],w=[`disabled`],T={key:0,class:`bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2`},E={class:`font-medium`},D={key:1,class:`bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-2`},O={class:`font-medium`},k={key:2,class:`grid grid-cols-2 md:grid-cols-6 gap-4`},A={class:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm`},j={class:`text-2xl font-black text-kivotos-navy`},M={class:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm`},N={class:`text-2xl font-black text-green-600`},P={class:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm`},F={class:`text-2xl font-black text-gray-400`},I={class:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm`},L={class:`text-2xl font-black text-kivotos-pink`},R={class:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm`},z={class:`text-2xl font-black text-kivotos-cyan`},B={class:`bg-white p-4 rounded-xl border border-gray-100 shadow-sm`},V={class:`text-2xl font-black text-purple-600`},H={class:`flex gap-2 flex-wrap`},U=[`onClick`],ce={class:`bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden flex-1`},W={class:`divide-y divide-gray-100 max-h-[500px] overflow-y-auto`},G={class:`flex items-start justify-between gap-4`},le={class:`flex-1 min-w-0`},ue={class:`flex items-center gap-2 mb-1`},de={class:`font-bold text-kivotos-navy`},fe={key:2,class:`px-1.5 py-0.5 bg-kivotos-pink/10 text-kivotos-pink text-xs font-bold rounded flex items-center gap-1`},pe={key:3,class:`px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs font-bold rounded flex items-center gap-1`},me={class:`text-sm text-gray-600 mb-2`},he={class:`flex items-center gap-2 flex-wrap`},ge={class:`px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded font-mono`},_e=[`onClick`,`disabled`,`title`],ve={key:0,class:`p-8 text-center text-gray-400`},K=ne({__name:`ToolsView`,setup(ne){let h=o([]),K=o(null),ye=o({});o(new Set);let q=o(!1),J=o(``),Y=o(``),X=o(`all`),Z=o(`all`),be={core:`Core`,utility:`Utility`,messaging:`Messaging`,search:`Search`,media:`Media`,custom:`Custom`};async function Q(){q.value=!0,J.value=``;try{let e=await g.get(`/api/tools`);h.value=e.data.tools||[],K.value=e.data.status||null,ye.value=(await g.get(`/api/tools/mcp/servers`)).data.servers||{}}catch(e){J.value=e.response?.data?.detail||`Failed to fetch tools`}finally{q.value=!1}}async function xe(e){if(!e.is_core)try{await g.post(`/api/tools/${e.name}/toggle`,{enabled:!e.enabled}),e.enabled=!e.enabled,Y.value=`${e.name} ${e.enabled?`enabled`:`disabled`}`,setTimeout(()=>Y.value=``,2e3),K.value=(await g.get(`/api/tools/status`)).data}catch(e){J.value=e.response?.data?.detail||`Failed to toggle tool`}}let $=l(()=>{let e=h.value;return Z.value===`builtin`?e=e.filter(e=>e.source===`builtin`):Z.value===`mcp`&&(e=e.filter(e=>e.source===`mcp`)),X.value===`all`?e:X.value===`enabled`?e.filter(e=>e.enabled):X.value===`disabled`?e.filter(e=>!e.enabled):e.filter(e=>e.category===X.value)}),Se=l(()=>h.value.filter(e=>e.source===`builtin`)),Ce=l(()=>h.value.filter(e=>e.source===`mcp`)),we=l(()=>{let e=new Set(h.value.map(e=>e.category));return Array.from(e)});return te(()=>{Q()}),(te,o)=>(p(),y(`div`,oe,[_(`div`,se,[o[2]||=_(`div`,null,[_(`h2`,{class:`text-3xl font-black text-kivotos-navy tracking-tight skew-x-[-5deg] uppercase`},` Tools `),_(`p`,{class:`text-kivotos-gray font-mono text-xs mt-1 font-bold`},`BUILTIN & MCP TOOLS // MANAGEMENT`)],-1),_(`div`,x,[_(`div`,S,[(p(),y(d,null,r([`all`,`builtin`,`mcp`],e=>_(`button`,{key:e,onClick:t=>Z.value=e,class:c([`px-3 py-1.5 rounded-md text-xs font-bold transition-colors`,Z.value===e?`bg-white text-kivotos-navy shadow-sm`:`text-gray-500 hover:text-gray-700`])},a(e===`all`?`All`:e===`builtin`?`Builtin`:`MCP`),11,C)),64))]),_(`button`,{onClick:Q,class:`flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-kivotos-cyan shadow-sm hover:bg-kivotos-cyan/10 transition-colors`,disabled:q.value},[v(s(e),{size:16,class:c([`text-kivotos-cyan`,{"animate-spin":q.value}])},null,8,[`class`]),o[1]||=_(`span`,{class:`font-mono font-bold text-kivotos-navy text-sm`},`Refresh`,-1)],8,w)])]),J.value?(p(),y(`div`,T,[v(s(ee),{size:18}),_(`span`,E,a(J.value),1),_(`button`,{onClick:o[0]||=e=>J.value=``,class:`ml-auto`},[v(s(n),{size:16})])])):u(``,!0),Y.value?(p(),y(`div`,D,[v(s(t),{size:18}),_(`span`,O,a(Y.value),1)])):u(``,!0),K.value?(p(),y(`div`,k,[_(`div`,A,[o[3]||=_(`p`,{class:`text-xs font-bold text-gray-500 uppercase`},`Total`,-1),_(`p`,j,a(K.value.total),1)]),_(`div`,M,[o[4]||=_(`p`,{class:`text-xs font-bold text-gray-500 uppercase`},`Enabled`,-1),_(`p`,N,a(K.value.enabled),1)]),_(`div`,P,[o[5]||=_(`p`,{class:`text-xs font-bold text-gray-500 uppercase`},`Disabled`,-1),_(`p`,F,a(K.value.disabled),1)]),_(`div`,I,[o[6]||=_(`p`,{class:`text-xs font-bold text-gray-500 uppercase`},`Core`,-1),_(`p`,L,a(K.value.core),1)]),_(`div`,R,[o[7]||=_(`p`,{class:`text-xs font-bold text-gray-500 uppercase`},`Builtin`,-1),_(`p`,z,a(Se.value.length),1)]),_(`div`,B,[o[8]||=_(`p`,{class:`text-xs font-bold text-gray-500 uppercase`},`MCP`,-1),_(`p`,V,a(Ce.value.length),1)])])):u(``,!0),_(`div`,H,[(p(!0),y(d,null,r([`all`,`enabled`,`disabled`,...we.value],e=>(p(),y(`button`,{key:e,onClick:t=>X.value=e,class:c([`px-3 py-1.5 rounded-lg text-sm font-bold transition-colors`,X.value===e?`bg-kivotos-cyan text-white`:`bg-white text-gray-600 hover:bg-gray-50 border border-gray-200`])},a(e===`all`?`All`:be[e]||e.charAt(0).toUpperCase()+e.slice(1)),11,U))),128))]),_(`div`,ce,[_(`div`,W,[(p(!0),y(d,null,r($.value,e=>(p(),y(`div`,{key:e.name,class:`p-4 hover:bg-slate-50 transition-colors`},[_(`div`,G,[_(`div`,le,[_(`div`,ue,[e.source===`builtin`?(p(),b(s(m),{key:0,size:16,class:`text-kivotos-cyan flex-shrink-0`})):(p(),b(s(f),{key:1,size:16,class:`text-purple-500 flex-shrink-0`})),_(`span`,de,a(e.name),1),e.is_core?(p(),y(`span`,fe,[v(s(re),{size:10}),o[9]||=i(` Core `,-1)])):u(``,!0),e.source===`mcp`?(p(),y(`span`,pe,[v(s(f),{size:10}),i(` `+a(e.source_name),1)])):u(``,!0),_(`span`,{class:c([`px-1.5 py-0.5 text-xs font-bold rounded`,e.enabled?`bg-green-100 text-green-700`:`bg-gray-100 text-gray-500`])},a(e.enabled?`ON`:`OFF`),3)]),_(`p`,me,a(e.description),1),_(`div`,he,[_(`span`,ge,a(e.category),1),(p(!0),y(d,null,r(e.tags,e=>(p(),y(`span`,{key:e,class:`px-2 py-0.5 bg-kivotos-cyan/10 text-kivotos-cyan text-xs rounded`},a(e),1))),128))])]),_(`button`,{onClick:t=>xe(e),disabled:e.is_core,class:c([`p-2 rounded-lg transition-colors`,e.is_core?`text-gray-300 cursor-not-allowed`:e.enabled?`text-green-500 hover:bg-green-50`:`text-gray-400 hover:bg-gray-100`]),title:e.is_core?`Core tools cannot be disabled`:e.enabled?`Disable`:`Enable`},[e.enabled?(p(),b(s(ie),{key:0,size:24})):(p(),b(s(ae),{key:1,size:24}))],10,_e)])]))),128)),$.value.length===0?(p(),y(`div`,ve,[v(s(m),{size:32,class:`mx-auto mb-2 opacity-50`}),o[10]||=_(`p`,null,`No tools found`,-1)])):u(``,!0)])])]))}});export{K as default};